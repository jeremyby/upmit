/ main container
.content
  #pad-wrapper
    - if  current_user.goals.size == 0
      = render 'home/jumbotron'

    - elsif @active.blank?
    
    - else
      .row.top
        .col-md-12
          %a(href='#{ new_goal_path }')
            %button.btn.btn-info
              %i.fa.fa-plus
              New Goal
        
          %h4 Active
      
      .row
        .col-md-12
          - @active.each do |goal|
            - past, failed, succeed = goal.commits.past.size, goal.commits.failed.size, goal.commits.succeed.size
            - percentage = (past * 100 / goal.occurrence)
            - fgcolor = get_fg_color(past == 0 ? 0 : failed * 100 / past)
          
            %a(href='#{ user_goal_path(current_user, goal) }')
              .goal.col-md-4
                .donut(data-dimension="180" data-text="#{ percentage }%" data-info="#{ pluralize goal.occurrence - past, 'time' } to go" data-width="24" data-fontsize="26" data-percent="#{ percentage }" data-fgcolor="#{ fgcolor }" data-bgcolor="#eee" data-fill="#ddd")
                .title= goal.title
                
                
    - unless @inactive.blank?
      .row.section
        .col-md-12
          %h4 Pending
        .col-md-12
          - @inactive.each do |goal|
            %a(href='#{ user_goal_path(current_user, goal) }')= goal.title
            
    - unless @completed.blank?
      .row.section
        .col-md-12
          %h4 Completed
        .col-md-12
          - @completed.each do |goal|
            %a(href='#{ user_goal_path(current_user, goal) }')= goal.title

